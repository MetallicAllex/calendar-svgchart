<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="generate-data.js"></script>
</head>

<body>
    <div style="text-align: center; padding-top: 2em;">
        <svg style="box-shadow:0 0 0.5em rgba(0, 0, 0, 0.2)"></svg>
    </div>
</body>
<script>
    // 设定 getJSON 为 URL 访问方法
    var getJSON = function (url) {
        return new Promise(function (resolve, reject) {
            // 让 xhr 使用 XMLHttpRequest 参数，使其访问一个URL。
            var xhr = new XMLHttpRequest();
            xhr.open('get', url, true);
            // 指定返回内容类型为 JSON
            xhr.responseType = 'json';
            xhr.onload = function () {
                var status = xhr.status;
                // 判断访问 URL 状态是否为 200
                if (status == 200) {
                    resolve(xhr.response);
                } else {
                    reject(status);
                }
            };
            // 将获取的 JSON 数据输出；注释后[[PromiseResult]]属性值为undefined，导致 JSON 数据无法输出。
            xhr.send();
        })
    }
</script>

</html>